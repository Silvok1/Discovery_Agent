# Constant Sum Question

1. **Structure**
    - **Visual Elements:** A set of items (usually listed as rows or as a list) each with a numeric input (text box or slider bar) where respondents enter or allocate a number for each item. A Constant Sum question also displays a running total of the numbers entered, so respondents can see the sum of their inputs. The goal is typically to have respondents distribute a certain total amount across the options.
    - **Variations:** Three answer input types for constant sum:
        - *Choices (Text Boxes):* Each item/choice is followed by a small numeric text box where the respondent types in a number. Often used vertically (one item per line with a box).
        - *Bars:* Each item is represented by a bar that can be dragged to adjust a value (similar to a slider for each item). If a maximum sum is enforced, the bars cannot collectively exceed that total.
        - *Sliders:* Similar to bars in functionality but with a different visual (slider handles on a line). Each slider corresponds to one item. Again, if a total is enforced, moving one slider may reduce the range on others.
    - The question can optionally display a “Total” row that updates as numbers are entered (especially in the text box format, there’s an option to show an automatic sum of all inputs).
    - Example use case: “Allocate 100 points among these options” – the question might list options A, B, C each with a box; the total must equal 100.
2. **Settings & Features**
    - **Total Requirement:** You can enforce that the sum of all inputs must equal a specified value (e.g., exactly 100). Under *Response Requirements*, there’s “Must Total = X”. If this is set, the survey will not allow submission until the entered numbers sum correctly. (If using bars/sliders format, Qualtrics inherently prevents exceeding the total when this is on.)
    - **Alignment & Layout:** In text box format, you can choose vertical alignment (each choice on a new line, which is default) or horizontal alignment (choices in a row with input boxes, useful if there are few items). Vertical allows the “Total” box to appear at the bottom as an extra row if you checked “Show total box.”
    - **Total Box:** Option to “Add total box” will display a running total of the values entered. This helps respondents know how much they have allocated so far. (In vertical layout, the total box appears as an extra row at the bottom automatically labeled “Total”. In horizontal layout, it might appear to the right.)
    - **Units/Symbol:** You can prepend or append a symbol to each input to indicate units (for example, a “%” or “hours” or currency). In the editing pane, there’s an option to add a symbol before or after the input boxes. This is limited to a short string (up to 4 characters).
    - **Validation/Range:** Aside from total validation, you can also set a *Range requirement* for each input (minimum and maximum allowed per item). For instance, each item’s value must be between 0 and 24. This is enabled by toggling “Add Range Requirement” and specifying a min and max for each constant sum field.
    - **Bars/Sliders specific:** 
        - You can set a *Custom Start Position* for bars/sliders if you want them to begin at something other than 0. (Typically they start at 0 by default. If you wanted them all to start at, say, an even distribution, you could set that as default by dragging in edit mode.)
        - *Grid Lines/Scale:* In bars/sliders, you can specify the number of grid lines (tick marks), and the min/max values (much like a slider question). If “Must Total” is on, the max of each bar might effectively be limited by that total.
        - *Labels and Show Values:* Similar to a regular slider, you can add top labels for your scale endpoints, and enable “Show Value” so respondents see the numeric value as they adjust a bar.
    - **Logic Support:** Constant Sum values can be used in branch logic (they are basically numeric responses). For example, “If the total time allocated to Project A (Q10, option A) is greater than 5 hours, then…” etc. You can also pipe these values into later text (e.g., “You allocated ${q://QID###/ChoiceNumericEntryValue/3} points to Option 3.”). Note that if “Must Total” is enforced, all values might need to be non-empty to pass the validation, so logic checking for blank vs filled may not be as relevant unless you did not force a total. Each item’s value is an independent variable in the data, and the total itself is not automatically stored as a separate variable (you would have to calculate it in analysis or use Math Operations in Survey Flow to store it if needed).
3. **Data Export Schema**
    - **CSV Column Header Format:** Each constant sum item produces a separate column in the dataset. The header will typically be the question text and the item text (e.g., “How do you spend your time – Work” if “Work” is one category being allocated). If you have only one constant sum column (say you asked for allocation in one category across several rows as a matrix variation), it might use the scheme `QID_Row` as headers. In the standard (non-matrix) Constant Sum question where each choice is an item with a number, it will just use the choice text as the column label under the question.
    - **Data Values:** The data is the number the respondent entered or set for that item. These are treated as numeric values in the dataset. If a respondent left an item blank (which might happen if you didn’t require all to be filled and they skipped one, or if they skipped the question entirely), that cell will be blank. If “Must Total” was enforced, typically all fields must be filled (so blanks would only appear if the entire question was skipped due to survey flow or display logic).
    - **Recode Values:** The numeric inputs are recorded as given, so there isn’t a separate concept of recoding for constant sum values. Each item doesn’t have a “coded value” – the number itself *is* the value. (For instance, if someone allocated 30 to Option A, the data shows 30 for Option A’s column.) You cannot pre-assign different numerical coding like you do for multiple choice; the respondent’s entry is the data. One thing to note: if you use the “Slider” or “Bars” style, you set a maximum and minimum – those effectively define the range of possible values. But those aren’t “recode” values, just limits. So, effectively, no recoding feature applies – the values are literal. 
      - The only nuance: The *total* is not automatically a column in your data. If you need the total in your export, you must calculate it afterward or set up an Embedded Data field that sums the parts during the survey. Qualtrics does not attach the total as an extra data column by default for constant sum questions.
